--
-- PostgreSQL database dump
--

\restrict YguIsIWaTeOCfgYuD2acrStvopcfca0VR3zxbhUZ6Az3kfz6GOuo102S7cTmO8d

-- Dumped from database version 16.11
-- Dumped by pg_dump version 16.11

SET statement_timeout = 0;
SET lock_timeout = 0;
SET idle_in_transaction_session_timeout = 0;
SET client_encoding = 'UTF8';
SET standard_conforming_strings = on;
SELECT pg_catalog.set_config('search_path', '', false);
SET check_function_bodies = false;
SET xmloption = content;
SET client_min_messages = warning;
SET row_security = off;

--
-- Name: building_type_enum; Type: TYPE; Schema: public; Owner: myuser
--

CREATE TYPE public.building_type_enum AS ENUM (
    'Commercial',
    'Residential',
    'Residental',
    'School'
);


ALTER TYPE public.building_type_enum OWNER TO myuser;

--
-- Name: education_level_enum; Type: TYPE; Schema: public; Owner: myuser
--

CREATE TYPE public.education_level_enum AS ENUM (
    'Low',
    'HighSchoolOrCollege',
    'Bachelors',
    'Graduate'
);


ALTER TYPE public.education_level_enum OWNER TO myuser;

--
-- Name: job_mode_enum; Type: TYPE; Schema: public; Owner: myuser
--

CREATE TYPE public.job_mode_enum AS ENUM (
    'AtHome',
    'Transport',
    'AtRecreation',
    'AtRestaurant',
    'AtWork'
);


ALTER TYPE public.job_mode_enum OWNER TO myuser;

--
-- Name: payment_category_enum; Type: TYPE; Schema: public; Owner: myuser
--

CREATE TYPE public.payment_category_enum AS ENUM (
    'Education',
    'Food',
    'Recreation',
    'RentAdjustment',
    'Shelter',
    'Wage'
);


ALTER TYPE public.payment_category_enum OWNER TO myuser;

--
-- Name: travel_purpose_enum; Type: TYPE; Schema: public; Owner: myuser
--

CREATE TYPE public.travel_purpose_enum AS ENUM (
    'Coming Back From Restaurant',
    'Eating',
    'Going Back to Home',
    'Recreation (Social Gathering)',
    'Work/Home Commute'
);


ALTER TYPE public.travel_purpose_enum OWNER TO myuser;

--
-- Name: venue_type_enum; Type: TYPE; Schema: public; Owner: myuser
--

CREATE TYPE public.venue_type_enum AS ENUM (
    'Apartment',
    'Pub',
    'Restaurant',
    'Workplace',
    'School'
);


ALTER TYPE public.venue_type_enum OWNER TO myuser;

SET default_tablespace = '';

SET default_table_access_method = heap;

--
-- Name: apartments; Type: TABLE; Schema: public; Owner: myuser
--

CREATE TABLE public.apartments (
    apartmentid integer NOT NULL,
    rentalcost double precision,
    maxoccupancy integer,
    numberofrooms integer,
    location point,
    buildingid integer
);


ALTER TABLE public.apartments OWNER TO myuser;

--
-- Name: buildings; Type: TABLE; Schema: public; Owner: myuser
--

CREATE TABLE public.buildings (
    buildingid integer NOT NULL,
    location polygon,
    buildingtype public.building_type_enum,
    maxoccupancy integer,
    units_raw text
);


ALTER TABLE public.buildings OWNER TO myuser;

--
-- Name: checkinjournal; Type: TABLE; Schema: public; Owner: myuser
--

CREATE TABLE public.checkinjournal (
    participantid integer NOT NULL,
    "timestamp" timestamp without time zone NOT NULL,
    venueid integer,
    venuetype public.venue_type_enum
);


ALTER TABLE public.checkinjournal OWNER TO myuser;

--
-- Name: employers; Type: TABLE; Schema: public; Owner: myuser
--

CREATE TABLE public.employers (
    employerid integer NOT NULL,
    location point,
    buildingid integer
);


ALTER TABLE public.employers OWNER TO myuser;

--
-- Name: financialjournal; Type: TABLE; Schema: public; Owner: myuser
--

CREATE TABLE public.financialjournal (
    financialid bigint NOT NULL,
    participantid integer,
    "timestamp" timestamp without time zone,
    category public.payment_category_enum,
    amount double precision
);


ALTER TABLE public.financialjournal OWNER TO myuser;

--
-- Name: financialjournal_financialid_seq; Type: SEQUENCE; Schema: public; Owner: myuser
--

CREATE SEQUENCE public.financialjournal_financialid_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER SEQUENCE public.financialjournal_financialid_seq OWNER TO myuser;

--
-- Name: financialjournal_financialid_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: myuser
--

ALTER SEQUENCE public.financialjournal_financialid_seq OWNED BY public.financialjournal.financialid;


--
-- Name: jobs; Type: TABLE; Schema: public; Owner: myuser
--

CREATE TABLE public.jobs (
    jobid integer NOT NULL,
    employerid integer,
    hourlyrate double precision,
    starttime time without time zone,
    endtime time without time zone,
    daystowork_raw text,
    educationrequirement public.education_level_enum
);


ALTER TABLE public.jobs OWNER TO myuser;

--
-- Name: jobschedules; Type: TABLE; Schema: public; Owner: myuser
--

CREATE TABLE public.jobschedules (
    jobid integer,
    dayofweek text
);


ALTER TABLE public.jobschedules OWNER TO myuser;

--
-- Name: participants; Type: TABLE; Schema: public; Owner: myuser
--

CREATE TABLE public.participants (
    participantid integer NOT NULL,
    householdsize integer,
    havekids boolean,
    age integer,
    educationlevel public.education_level_enum,
    interestgroup text,
    joviality double precision,
    CONSTRAINT participants_joviality_check CHECK (((joviality >= (0)::double precision) AND (joviality <= (1)::double precision)))
);


ALTER TABLE public.participants OWNER TO myuser;

--
-- Name: participantstatuslogs; Type: TABLE; Schema: public; Owner: myuser
--

CREATE TABLE public.participantstatuslogs (
    logid bigint NOT NULL,
    "timestamp" timestamp without time zone,
    currentlocation point,
    participantid integer,
    currentmode public.job_mode_enum,
    hungerstatus text,
    sleepstatus text,
    apartmentid integer,
    availablebalance double precision,
    jobid integer,
    financialstatus text,
    dailyfoodbudget double precision,
    weeklyextrabudget double precision
);


ALTER TABLE public.participantstatuslogs OWNER TO myuser;

--
-- Name: participantstatuslogs_logid_seq; Type: SEQUENCE; Schema: public; Owner: myuser
--

CREATE SEQUENCE public.participantstatuslogs_logid_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER SEQUENCE public.participantstatuslogs_logid_seq OWNER TO myuser;

--
-- Name: participantstatuslogs_logid_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: myuser
--

ALTER SEQUENCE public.participantstatuslogs_logid_seq OWNED BY public.participantstatuslogs.logid;


--
-- Name: pubs; Type: TABLE; Schema: public; Owner: myuser
--

CREATE TABLE public.pubs (
    pubid integer NOT NULL,
    hourlycost double precision,
    maxoccupancy integer,
    location point,
    buildingid integer
);


ALTER TABLE public.pubs OWNER TO myuser;

--
-- Name: restaurants; Type: TABLE; Schema: public; Owner: myuser
--

CREATE TABLE public.restaurants (
    restaurantid integer NOT NULL,
    foodcost double precision,
    maxoccupancy integer,
    location point,
    buildingid integer
);


ALTER TABLE public.restaurants OWNER TO myuser;

--
-- Name: schools; Type: TABLE; Schema: public; Owner: myuser
--

CREATE TABLE public.schools (
    schoolid integer NOT NULL,
    monthlyfees double precision,
    maxenrollment integer,
    location point,
    buildingid integer
);


ALTER TABLE public.schools OWNER TO myuser;

--
-- Name: socialnetwork; Type: TABLE; Schema: public; Owner: myuser
--

CREATE TABLE public.socialnetwork (
    "timestamp" timestamp without time zone NOT NULL,
    participantidfrom integer NOT NULL,
    participantidto integer NOT NULL
);


ALTER TABLE public.socialnetwork OWNER TO myuser;

--
-- Name: traveljournal; Type: TABLE; Schema: public; Owner: myuser
--

CREATE TABLE public.traveljournal (
    travelid bigint NOT NULL,
    participantid integer,
    travelstarttime timestamp without time zone,
    travelstartlocationid integer,
    travelendtime timestamp without time zone,
    travelendlocationid integer,
    purpose public.travel_purpose_enum,
    checkintime timestamp without time zone,
    checkouttime timestamp without time zone,
    startingbalance double precision,
    endingbalance double precision
);


ALTER TABLE public.traveljournal OWNER TO myuser;

--
-- Name: traveljournal_travelid_seq; Type: SEQUENCE; Schema: public; Owner: myuser
--

CREATE SEQUENCE public.traveljournal_travelid_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER SEQUENCE public.traveljournal_travelid_seq OWNER TO myuser;

--
-- Name: traveljournal_travelid_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: myuser
--

ALTER SEQUENCE public.traveljournal_travelid_seq OWNED BY public.traveljournal.travelid;


--
-- Name: financialjournal financialid; Type: DEFAULT; Schema: public; Owner: myuser
--

ALTER TABLE ONLY public.financialjournal ALTER COLUMN financialid SET DEFAULT nextval('public.financialjournal_financialid_seq'::regclass);


--
-- Name: participantstatuslogs logid; Type: DEFAULT; Schema: public; Owner: myuser
--

ALTER TABLE ONLY public.participantstatuslogs ALTER COLUMN logid SET DEFAULT nextval('public.participantstatuslogs_logid_seq'::regclass);


--
-- Name: traveljournal travelid; Type: DEFAULT; Schema: public; Owner: myuser
--

ALTER TABLE ONLY public.traveljournal ALTER COLUMN travelid SET DEFAULT nextval('public.traveljournal_travelid_seq'::regclass);


--
-- Name: apartments apartments_pkey; Type: CONSTRAINT; Schema: public; Owner: myuser
--

ALTER TABLE ONLY public.apartments
    ADD CONSTRAINT apartments_pkey PRIMARY KEY (apartmentid);


--
-- Name: buildings buildings_pkey; Type: CONSTRAINT; Schema: public; Owner: myuser
--

ALTER TABLE ONLY public.buildings
    ADD CONSTRAINT buildings_pkey PRIMARY KEY (buildingid);


--
-- Name: checkinjournal checkinjournal_pkey; Type: CONSTRAINT; Schema: public; Owner: myuser
--

ALTER TABLE ONLY public.checkinjournal
    ADD CONSTRAINT checkinjournal_pkey PRIMARY KEY (participantid, "timestamp");


--
-- Name: employers employers_pkey; Type: CONSTRAINT; Schema: public; Owner: myuser
--

ALTER TABLE ONLY public.employers
    ADD CONSTRAINT employers_pkey PRIMARY KEY (employerid);


--
-- Name: financialjournal financialjournal_pkey; Type: CONSTRAINT; Schema: public; Owner: myuser
--

ALTER TABLE ONLY public.financialjournal
    ADD CONSTRAINT financialjournal_pkey PRIMARY KEY (financialid);


--
-- Name: jobs jobs_pkey; Type: CONSTRAINT; Schema: public; Owner: myuser
--

ALTER TABLE ONLY public.jobs
    ADD CONSTRAINT jobs_pkey PRIMARY KEY (jobid);


--
-- Name: participants participants_pkey; Type: CONSTRAINT; Schema: public; Owner: myuser
--

ALTER TABLE ONLY public.participants
    ADD CONSTRAINT participants_pkey PRIMARY KEY (participantid);


--
-- Name: participantstatuslogs participantstatuslogs_pkey; Type: CONSTRAINT; Schema: public; Owner: myuser
--

ALTER TABLE ONLY public.participantstatuslogs
    ADD CONSTRAINT participantstatuslogs_pkey PRIMARY KEY (logid);


--
-- Name: pubs pubs_pkey; Type: CONSTRAINT; Schema: public; Owner: myuser
--

ALTER TABLE ONLY public.pubs
    ADD CONSTRAINT pubs_pkey PRIMARY KEY (pubid);


--
-- Name: restaurants restaurants_pkey; Type: CONSTRAINT; Schema: public; Owner: myuser
--

ALTER TABLE ONLY public.restaurants
    ADD CONSTRAINT restaurants_pkey PRIMARY KEY (restaurantid);


--
-- Name: schools schools_pkey; Type: CONSTRAINT; Schema: public; Owner: myuser
--

ALTER TABLE ONLY public.schools
    ADD CONSTRAINT schools_pkey PRIMARY KEY (schoolid);


--
-- Name: socialnetwork socialnetwork_pkey; Type: CONSTRAINT; Schema: public; Owner: myuser
--

ALTER TABLE ONLY public.socialnetwork
    ADD CONSTRAINT socialnetwork_pkey PRIMARY KEY ("timestamp", participantidfrom, participantidto);


--
-- Name: traveljournal traveljournal_pkey; Type: CONSTRAINT; Schema: public; Owner: myuser
--

ALTER TABLE ONLY public.traveljournal
    ADD CONSTRAINT traveljournal_pkey PRIMARY KEY (travelid);


--
-- Name: apartments fk_apt_building; Type: FK CONSTRAINT; Schema: public; Owner: myuser
--

ALTER TABLE ONLY public.apartments
    ADD CONSTRAINT fk_apt_building FOREIGN KEY (buildingid) REFERENCES public.buildings(buildingid);


--
-- Name: checkinjournal fk_chk_participant; Type: FK CONSTRAINT; Schema: public; Owner: myuser
--

ALTER TABLE ONLY public.checkinjournal
    ADD CONSTRAINT fk_chk_participant FOREIGN KEY (participantid) REFERENCES public.participants(participantid);


--
-- Name: employers fk_emp_building; Type: FK CONSTRAINT; Schema: public; Owner: myuser
--

ALTER TABLE ONLY public.employers
    ADD CONSTRAINT fk_emp_building FOREIGN KEY (buildingid) REFERENCES public.buildings(buildingid);


--
-- Name: financialjournal fk_fin_participant; Type: FK CONSTRAINT; Schema: public; Owner: myuser
--

ALTER TABLE ONLY public.financialjournal
    ADD CONSTRAINT fk_fin_participant FOREIGN KEY (participantid) REFERENCES public.participants(participantid);


--
-- Name: jobs fk_job_employer; Type: FK CONSTRAINT; Schema: public; Owner: myuser
--

ALTER TABLE ONLY public.jobs
    ADD CONSTRAINT fk_job_employer FOREIGN KEY (employerid) REFERENCES public.employers(employerid);


--
-- Name: jobschedules fk_js_job; Type: FK CONSTRAINT; Schema: public; Owner: myuser
--

ALTER TABLE ONLY public.jobschedules
    ADD CONSTRAINT fk_js_job FOREIGN KEY (jobid) REFERENCES public.jobs(jobid);


--
-- Name: participantstatuslogs fk_log_apartment; Type: FK CONSTRAINT; Schema: public; Owner: myuser
--

ALTER TABLE ONLY public.participantstatuslogs
    ADD CONSTRAINT fk_log_apartment FOREIGN KEY (apartmentid) REFERENCES public.apartments(apartmentid);


--
-- Name: participantstatuslogs fk_log_job; Type: FK CONSTRAINT; Schema: public; Owner: myuser
--

ALTER TABLE ONLY public.participantstatuslogs
    ADD CONSTRAINT fk_log_job FOREIGN KEY (jobid) REFERENCES public.jobs(jobid);


--
-- Name: participantstatuslogs fk_log_participant; Type: FK CONSTRAINT; Schema: public; Owner: myuser
--

ALTER TABLE ONLY public.participantstatuslogs
    ADD CONSTRAINT fk_log_participant FOREIGN KEY (participantid) REFERENCES public.participants(participantid);


--
-- Name: pubs fk_pub_building; Type: FK CONSTRAINT; Schema: public; Owner: myuser
--

ALTER TABLE ONLY public.pubs
    ADD CONSTRAINT fk_pub_building FOREIGN KEY (buildingid) REFERENCES public.buildings(buildingid);


--
-- Name: restaurants fk_res_building; Type: FK CONSTRAINT; Schema: public; Owner: myuser
--

ALTER TABLE ONLY public.restaurants
    ADD CONSTRAINT fk_res_building FOREIGN KEY (buildingid) REFERENCES public.buildings(buildingid);


--
-- Name: schools fk_sch_building; Type: FK CONSTRAINT; Schema: public; Owner: myuser
--

ALTER TABLE ONLY public.schools
    ADD CONSTRAINT fk_sch_building FOREIGN KEY (buildingid) REFERENCES public.buildings(buildingid);


--
-- Name: socialnetwork fk_soc_from; Type: FK CONSTRAINT; Schema: public; Owner: myuser
--

ALTER TABLE ONLY public.socialnetwork
    ADD CONSTRAINT fk_soc_from FOREIGN KEY (participantidfrom) REFERENCES public.participants(participantid);


--
-- Name: socialnetwork fk_soc_to; Type: FK CONSTRAINT; Schema: public; Owner: myuser
--

ALTER TABLE ONLY public.socialnetwork
    ADD CONSTRAINT fk_soc_to FOREIGN KEY (participantidto) REFERENCES public.participants(participantid);


--
-- Name: traveljournal fk_trv_participant; Type: FK CONSTRAINT; Schema: public; Owner: myuser
--

ALTER TABLE ONLY public.traveljournal
    ADD CONSTRAINT fk_trv_participant FOREIGN KEY (participantid) REFERENCES public.participants(participantid);


--
-- PostgreSQL database dump complete
--

\unrestrict YguIsIWaTeOCfgYuD2acrStvopcfca0VR3zxbhUZ6Az3kfz6GOuo102S7cTmO8d

